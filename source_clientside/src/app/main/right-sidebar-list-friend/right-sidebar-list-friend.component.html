<div class="widget friend-list stick-widget rcorners2">
    <h4 class="widget-title">Friends</h4>
    <form class="example-form left">
        <mat-form-field class="example-full-width search-box">
          <mat-label>Search</mat-label>
          <input type="tel" matInput>
          <button mat-icon-button matSuffix><mat-icon>search</mat-icon></button>
        </mat-form-field>
    </form>
    <ul id="people-list" class="friendz-list">
        <ng-template ngFor let-friend [ngForOf]="m_friends" let-i="index">
            <li>
                <figure>
                    <img [src]="m_uriHandler.getImageUrl(friend.avarThumb)" alt="">
                    <span class="status f-online"></span>
                </figure>
                <div class="friendz-meta">
                    <a class="in-progress"(click)="showDialog(friend.Id)" >{{friend.Name}}</a>
                </div>
            </li>
        </ng-template>
    </ul>
</div>
<p-dialog header="{{this.NameUser}}" [(visible)]="display" [style]="{width: '30vw'}">
    <div class="p-col-12 p-md-4">
        <div #scrollMe style="overflow: scroll;height: 350px;overflow-x: hidden;">
            <div *ngFor="let message of messagesList">
                <div class="container" *ngIf="message.FromId != this.IdUser">
                    <img src="{{this.AvatarUser}}" alt="Avatar" class= "rcorners1">
                    <p>{{message.Content}}</p>
                    <a href="{{message.Attachment}}" download>
                        <img *ngIf="message.Attachment!=null" src="{{message.Attachment}}" class="attachment" style="max-width: 350px;border-radius:0%;">
                    </a>
                    <span class="time-right">11:00</span>
                </div>
                  
                <div class="container darker" *ngIf="message.FromId == this.IdUser">
                    <img src="{{this.AvatarNow}}" alt="Avatar" class="right rcorners1">
                    <p>{{message.Content}}</p>
                    <a href="{{message.Attachment}}" download>
                        <img *ngIf="message.Attachment!=null" src="{{message.Attachment}}" class="attachment" style="max-width: 350px;margin-left: 5%;border-radius:0%;">
                    </a>
                    <span class="time-left">11:01</span>
                </div>
            </div>
        </div>                         
        <br>
        <mat-form-field appearance="outline" class="auto">
            <mat-label>Write a message</mat-label>
            <textarea matInput (keyup.enter)="sendMessage()" [(ngModel)]="this.Content"></textarea>
            <input type='file' accept="image/*" (change)="onSelectFile($event)">
        </mat-form-field>
        <img [src]="url" style="height: 50px;width: 50px;" *ngIf="url!=null">
    </div>
</p-dialog>
